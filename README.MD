# MONGODB DATABASE CREATING FOR MYCHRITI

  * [1. INSTRUCTION](#1-instruction)
  * [2. TREE](#2-tree)
  * [3. HOW TO USE](#3-how-to-use)
  * [4. TIPS](#4-tips)

## 1. INSTRUCTION

This python script is for creating a mongodb database and import the datafiles (.json format) downloaded from CCD(Charities Commission Database)

## 2. TREE

```pseudocode
creating_database
├── DbClient.py
├── README.MD
├── configuration.json
├── dbfunctions.py
├── main.py
├── test.py
```

- **DbClient.py**: The class file which allow the programming can create an DbClient object, which also contains some internal functions and attributes for the object.

- **README.MD**: The file name of this documentation.

- **configuration.json**: The configuration file stored the information of DbClient attributes when the programming try to initiate an instance. 

- **dbfunctions.py**: This file contains some external functions should be used for  implementation.

- **main.py**: The main program of this project. If you are trying to implement this problem, try to type this command in the terminal:

  ```python
  $ python main.py
  ```

- **test.py**: This file contains many test functions for the program based on Pytest, if you are trying to test this program you can type the command in the terminal:

  ```python
  $ pytest test.py
  ```

## 3. HOW TO USE

Firstly, check the json file```configuration.json``` to make sure all the configurations of the database have been set properly. For instance, the default confiration was set below:

```json
{
  "dir_path": "./Data_files/",
  "host": "0.0.0.0",
  "port": 27017,
  "default_database_name": "MyChariti"
}
```



**Note**: 

1. Please do not miss slash ("/") when you are re-writing the path.

```python
"../../Data_files" # this one is wrong
"../../Data_files/" # this one is correct
```

2. The value of port must be ```int``` type.

Secondly, run the ```main.py``` file with command: ```python main.py```. The program will display the configure informaton to let the user reconfirm, after user type "y" or "Y", the program will automatically upload the datafile to the database. 

## 4. TIPS (Important)

For MacOS users, the directory where you store your data files maybe also contain a hidden file named '.DS_Store', this file is automatically generated by the MacOS system, it will cuase the error while the program is uploading the data files. Please use command ```$ rm .DS_Store``` to delete this file then run the program. 
